<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_semisolid</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>obj_movement_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();
material=floormaterial.wood;

sprite_left=-4;
sprite_center=spr_water;
sprite_right=spr_water;

image[2]=0;
//obj_movement_parent
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//obj_movement_parent
if(!instance_exists(obj_debug_room_controller)){visible=global.debug;}else{ visible=true; }

event_inherited();



//if (vspeed!=0 || hspeed!=0){ 

    var Playercol = collision_rectangle(bbox_left, bbox_top-5, bbox_right, bbox_top+4, obj_playerparent, 0, 0);

    if(Playercol)&amp;&amp;(Playercol.state!=Playerstate.jump)&amp;&amp;(Playercol.bbox_bottom &lt; yprevious+6){
    
       with(Playercol){
       
         if(Vsp_final&gt;=0){floortype=other.material;}
       
           if(Vsp_final &gt; 0){
        
              /*if(Vsp_final &gt; 3){ event_user(5); scr_stepsound(floortype); }  
         
              if(Vsp_final&gt;9){ Xscale_F=1.3; Yscale_F=0.7; alarm[3]=10; scr_gamepad_reset_vibration(0.4,0.4,2); }
              else if(Vsp_final&gt;3){ Xscale_F=1.1; Yscale_F=0.9; alarm[3]=10; }*/
    
         
              //Cancel the groundpound
              if(groundP==true){             
                 event_user(4);
                 event_user(1);
              }
         
        
        
           }
                  
            event_user(0);
        
         
            //Stop vertical speed 
            Vsp_final=0;      
            Vsp=0;
            grav=0; 
         
            onfloor=1; 

        
       }
       
    
       //Snap the player
       Playercol.y = ceil(bbox_top-16); Playercol.onfloor=true;
           
       Playercol.x += x-xprevious;
       
        if(collision_rectangle(Playercol.bbox_right-1, Playercol.bbox_top+4, Playercol.bbox_right+spd, Playercol.bbox_bottom-4, obj_solid, 1, 1)){

                   Playercol.x--;
                }
              else if (collision_rectangle(Playercol.bbox_left-spd, Playercol.bbox_top+4, Playercol.bbox_left+1, Playercol.bbox_bottom-4, obj_solid, 1, 1)){

                   Playercol.x++;                 

                }
                
       
       
       
    }
    
    
    //Move physisc parents
    
    //Get a ds list of all the objects in contact with the platform
    var list = scr_collision_rectangle_list(bbox_left, bbox_top-10, bbox_right, bbox_top+4, obj_physicsparent,0,0);
    
    if(list){
    
    
      //Get the amount of objects
      var count = ds_list_size(list);
      
      
      //Iterate through the items
      if(count&gt;0){
        
         for(var a=0; a&lt;count; a++){
         
             if(list[| a].Vsp&gt;=0)&amp;&amp;(list[| a].bbox_bottom &lt; yprevious+7){
             
                list[| a].Vsp=0;
                list[| a].grav=0;
                list[| a].onfloor=1;
               
                //Snap the object vertically
                list[| a].y = bbox_top- (list[| a].sprite_yoffset * list[| a].image_yscale);
             
              //Snap the player horizontally
                list[| a].x += x-xprevious;
 
              if(collision_rectangle(list[| a].bbox_right-1, list[| a].bbox_top+4, list[| a].bbox_right+spd, list[| a].bbox_bottom-4, obj_solid, 1, 1)){

                   list[| a].x--;
                }
              else if (collision_rectangle(list[| a].bbox_left-spd, list[| a].bbox_top+4, list[| a].bbox_left+1, list[| a].bbox_bottom-4, obj_solid, 1, 1)){

                   list[| a].x++;                 

                }
                
                
             }
         
         }
      
      }
      
      //Destroy the list I hate memory leaks I hate memory leaks I hate memory leaks
      ds_list_destroy(list);
      
    }
    
    


//}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

draw_self();

draw_rectangle(bbox_left,bbox_top,bbox_right,bbox_bottom,true);

//Draw the platform

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
