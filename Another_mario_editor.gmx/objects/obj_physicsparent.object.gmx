<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
Vsp=0;
grav_O=0.7;
grav=grav_O;
maxVsp=10;
offset=0;

spd=0;
Dir=-1;

onfloor=0;


//Collision checks
SOLIDL               =0; //Left collision check
SOLIDR               =0; //Right collision check
SOLIDL_V             =0; //Left collision check that also accounts for the player's speed
SOLIDR_V             =0; //Right collision check that also accounts for the player's speed

//Slope collision check
Slopesensor          =0;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
//Vertical
if(Vsp&lt;maxVsp){Vsp+=grav;}else{Vsp=maxVsp;}

grav=grav_O;
hspeed=spd*Dir;

onfloor=0;

var Semi=collision_rectangle(bbox_left,bbox_bottom-2,bbox_right,bbox_bottom+1+Vsp,obj_semisolid,1,0);

if(Vsp&gt;=0){

    if(Semi){
    
        if(bbox_bottom&lt;Semi.y+2){
           
           y=Semi.bbox_top-(sprite_get_height(mask_index)-(sprite_yoffset*image_yscale))
           Vsp=0;
           event_user(0);
           grav=0;
           onfloor=1;
        
        }
    
    }

}



Slopesensor=collision_line(x-2,bbox_bottom-16,x+2,bbox_bottom+2+Vsp,obj_slopeparent,0,0);

if(Slopesensor){ 

   if(Vsp&gt;=0){
        onfloor=1;     
           
           
           //Stop vertical speed      
           Vsp=0;
           grav=0;
           onfloor=1;
           with(Slopesensor){
             scr_slope_calculatepos();
           }
           
           
           //Angle
           /*if(Slopesensor.object_index==obj_slope_sl)||(Slopesensor.object_index==obj_slope_sr){
              Angle=45*-Slopesensor.Dir;
           }
        
           if(Slopesensor.object_index==obj_slope_l)||(Slopesensor.object_index==obj_slope_r){
              Angle=45/2*-Slopesensor.Dir;
           }*/
        
        
        while(!collision_rectangle(x-4,y-16,x+4,bbox_bottom-4/*y+6.8+6*/,obj_slopeparent,1,0)){
           y++;
        }
       
        
   
   }
}




//Horizontal collision
SOLIDL=collision_rectangle(bbox_left,bbox_top+1,bbox_left,bbox_bottom-1,obj_solid,1,0);
SOLIDR=collision_rectangle(bbox_right,bbox_top+1,bbox_right,bbox_bottom-1,obj_solid,1,0);

SOLIDL_V=collision_rectangle(bbox_left+hspeed-1,bbox_top+1,bbox_left,bbox_bottom-1,obj_solid,1,0);
SOLIDR_V=collision_rectangle(bbox_right,bbox_top+1,bbox_right+hspeed+1,bbox_bottom-1,obj_solid,1,0);

//Right
if(SOLIDR_V){

   if(hspeed&gt;=0)&amp;&amp;(!SOLIDR){
      
      //event_user(2);
      hspeed=0;
      spd=0;
      x=SOLIDR_V.bbox_left-(bbox_right-x)-1;
      event_user(0);
   }

}


if(SOLIDR){

   if(hspeed&gt;=0){
      //event_user(2);
      hspeed=0;
      spd=0;
           
  }

  while(collision_rectangle(bbox_right-2,bbox_top+8,bbox_right-1,bbox_bottom-8,obj_solid,true,false))
       &amp;&amp;(!collision_point(x,bbox_top+1,obj_solid,true,false)){
        x--;
  }
  
}


//Left
if(SOLIDL_V){

   if(hspeed&lt;=0)&amp;&amp;(!SOLIDL){
      
      //event_user(2);
      hspeed=0;
      spd=0;
      x=SOLIDL_V.bbox_right+(x-bbox_left)+1;
      event_user(0);
      
   }

}


if(SOLIDL){

   if(hspeed&lt;=0){
      //event_user(2);
      hspeed=0;
      spd=0;
           
  }

  while(collision_rectangle(bbox_left+1,bbox_top+8,bbox_left+2,bbox_bottom-8,obj_solid,true,false))
       &amp;&amp;(!collision_point(x,bbox_top+1,obj_solid,true,false)){
        x++;
  }
  
}


//Top collision
var SOLIDU=collision_rectangle(bbox_left,bbox_top-1,bbox_right,bbox_top+1,obj_solid,1,0);
var SOLIDU_V=collision_rectangle(bbox_left,bbox_top+Vsp-1,bbox_right,bbox_top+1,obj_solid,1,0);

if(SOLIDU_V){

   if(Vsp&lt;=0)&amp;&amp;(!SOLIDU){
      
      Vsp=0;
      y=SOLIDU_V.bbox_bottom+(y-bbox_top)+1;
   
   }

}


if(SOLIDU){

   if(Vsp&lt;=0){
      
      Vsp=0;
      y=SOLIDU_V.bbox_bottom+(y-bbox_top)+1;
           
  }

  /*while(collision_rectangle(bbox_right,bbox_top-1,bbox_right+1,bbox_top+3,obj_solid,true,false)){
        y++;
  }*/
  
}


/*if(Vsp&lt;0){

   while(collision_rectangle(bbox_left-4,bbox_top,bbox_left+1,bbox_bottom-1,obj_solid,1,0)){
         x++;
   }
   
   while(collision_rectangle(bbox_right-1,bbox_top,bbox_right+4,bbox_bottom-1,obj_solid,1,0)){
         x--;
   }

}*/



if(Vsp&lt;0){
   //Top collision
   if(collision_rectangle(bbox_left+1,bbox_top-4,bbox_right-1,bbox_top+1,obj_solid,true,false)){
      Vsp=0;
      grav=0;      
   }

}

y+=Vsp;


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
